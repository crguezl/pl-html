<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>MongoDB</TITLE>
<META NAME="description" CONTENT="MongoDB">
<META NAME="keywords" CONTENT="javascriptexamples">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="mystyle.css">

<LINK REL="previous" HREF="node99.html">
<LINK REL="up" HREF="node96.html">
<LINK REL="next" HREF="node101.html">
</HEAD>

<BODY >

<DIV CLASS="navigation">
<A NAME="tex2html2847"
  HREF="node101.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html2841"
  HREF="node96.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html2837"
  HREF="node99.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html2843"
  HREF="node101.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html2845"
  HREF="node104.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html2"
  HREF="http://nereida.deioc.ull.es/perlexamples/index.html"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="logoLPP.png"
 ALT="Apuntes de LPP"></A><A NAME="tex2html3"
  HREF="https://campusvirtual.ull.es/1415/course/view.php?id=5669"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="PL moodle 2014/2015"></A><A NAME="tex2html4"
  HREF="http://campusvirtual.ull.es/1314/course/view.php?id=1104"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="PL moodle 2013/2014"></A><A NAME="tex2html5"
  HREF="javascriptexamples.pdf"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="ps"></A><A NAME="tex2html6"
  HREF="https://plus.google.com/u/0/communities/103299470687051533933"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="perl6.jpg"
 ALT="comunidad g+ PL1415"></A><A NAME="tex2html7"
  HREF="http://www.google.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ggoogle.gif"
 ALT="google"></A><A NAME="tex2html8"
  HREF="http://www.ull.es/view/centros/etsii/Grado_en_Ingenieria_Informatica/es"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="etsii.png"
 ALT="etsii"></A><A NAME="tex2html9"
  HREF="http://www.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ull.gif"
 ALT="ull"></A><A NAME="tex2html10"
  HREF="https://github.com/crguezl"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="crguezl at github"></A>
<BR>
<B> Sig:</B> <A NAME="tex2html2848"
  HREF="node101.html">&#205;ndice General</A>
<B>Sup:</B> <A NAME="tex2html2842"
  HREF="node96.html">CoffeeScript y Express</A>
<B> Ant:</B> <A NAME="tex2html2838"
  HREF="node99.html">Pruebas</A>
<B> Con:</B> 
<A NAME="tex2html2843"
  HREF="node101.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>
<B> Ind:</B> 
<A NAME="tex2html2845"
  HREF="node104.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A>
<BR> <P>
</DIV>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsecciones</STRONG></A>

<UL CLASS="ChildLinks">
<LI><A NAME="tex2html2849"
  HREF="node100.html#SECTION06241000000000000000">Introducción</A>
<UL>
<LI><A NAME="tex2html2850"
  HREF="node100.html#SECTION06241010000000000000">Document Oriented Database</A>
</UL>
<BR>
<LI><A NAME="tex2html2851"
  HREF="node100.html#SECTION06242000000000000000">Getting Started with MongoDB</A>
</UL>
<!--End of Table of Child-Links-->
<HR>

<H1><A NAME="SECTION06240000000000000000">
MongoDB</A>
</H1>

<P>

<H2><A NAME="SECTION06241000000000000000">
Introducción</A>
</H2>

<UL>
<LI>MongoDB (from humongous: huge; enormous) is one of many cross-platform 
<A NAME="tex2html419"
  HREF="http://en.wikipedia.org/wiki/Document-oriented_database">document-oriented databases</A>
</LI>
<LI>Is classified as a 
<A NAME="tex2html420"
  HREF="http://en.wikipedia.org/wiki/NoSQL">NoSQL database</A>,
</LI>
<LI>MongoDB eschews the traditional table-based relational database structure in favor of JSON-like documents with dynamic schemas (MongoDB calls the format BSON)
</LI>
</UL>

<P>

<H4><A NAME="SECTION06241010000000000000">
Document Oriented Database</A>
</H4>
  

<P>

<UL>
<LI>In a relational database, 
<FONT COLOR="#ff0000"> data is first categorized into a number of
predefined types, and tables are created to hold individual entries, or
records, of each type</FONT>. 

<P>
</LI>
<LI>The tables define the data within each record's
fields, meaning that every record in the table has the same overall
form. 

<P>
</LI>
<LI>The administrator also defines the relations between the tables,
and selects certain fields that they believe will be most commonly used
for searching and defines indexes on them. 

<P>
</LI>
<LI>A key concept in the relational
design is that any data that may be repeated is placed in its own table,
and if these instances are related to each other, a field is selected
to group them together, the <A NAME="11854"></A><SPAN  CLASS="textbf">foreign key</SPAN>.

<P>
</LI>
<LI>For example, an address book application will generally need to
store the contact name, an optional image, one or more phone numbers,
one or more mailing addresses, and one or more email addresses. 

<P>
</LI>
<LI>In a
canonical relational database solution, tables would be created for
each of these records with predefined fields for each bit of data; the
<code>CONTACT</code> table might include <code>FIRST_NAME</code>, <code>LAST_NAME</code> and <code>IMAGE</code> fields,
while the <code>PHONE_NUMBER</code> table might include <code>COUNTRY_CODE</code>, <code>AREA_CODE</code>,
<code>PHONE_NUMBER</code> and <code>TYPE</code> (home, work, etc). 

<P>
</LI>
<LI>The <code>PHONE_NUMBER</code> table also
contains a <A NAME="11856"></A><SPAN  CLASS="textbf">foreign key</SPAN> field, "<code>CONTACT_ID</code>", which holds the unique <code>ID</code>
number assigned to the contact when it was created. 

<P>
</LI>
<LI>In order to recreate
the original contact, the system has to search through all of the tables
and collect the information back together using <A NAME="11858"></A><SPAN  CLASS="textbf">joins</SPAN><A NAME="tex2html421"
  HREF="footnode.html#foot11684"><SUP><SPAN CLASS="arabic">15</SPAN>.<SPAN CLASS="arabic">1</SPAN></SUP></A>
</LI>
</UL>

<P>

<UL>
<LI>In contrast, in a document-oriented database there may be no internal
structure that maps directly onto the concept of a table, and the fields
and relations generally don't exist as predefined concepts.

<P>
</LI>
<LI>Instead, all
of the data for an object is placed in a single document, and stored in
the database as a single entry 
</LI>
<LI>In the address book example, the document
would contain the contact's name, image and any contact info, all in a
single record.

<P>
</LI>
<LI>That entry is accessed through a key, some unique bit of
data, which allows the database to retrieve and return the document to
the application. No additional work is needed to retrieve the related
data, all of this is returned in a single object.

<P>
</LI>
<LI>A key difference between the document-oriented and relational models is
that the data formats are not predefined in the document case
</LI>
<LI>In most
cases, any sort of document can be stored in any database, and those
documents can change in type and form at any time
</LI>
<LI>If one wishes to
add a <code>COUNTRY_FLAG</code> to a <code>CONTACT</code>, simply add this field to new documents
as they are inserted, this will have no effect on the database or the
existing documents already stored, they simply won't have this field
</LI>
<LI>This
indicates an advantage of the document-based model; optional fields are
truly optional, a contact that does not include a mailing address simply
does not have a mailing address, there is no need to check another table
to see if there are entries
</LI>
<LI>To aid retrieval of information from the database, document-oriented
systems generally allow the administrator to provide hints to the database
to look for certain types of information
</LI>
<LI>In the address book example,
the design might add hints for the first and last name fields
</LI>
<LI>When the
document is inserted into the database (or later modified), the database
engine looks for these bits of information and indexes them, in the same
fashion as the relational model
</LI>
<LI>Additionally, most document-oriented
databases allow documents to have a type associated with them, like
<code>address book entry</code>, which allows the programmer to retrieve related
types of information, like <code>all the address book entries</code>
</LI>
<LI>This provides
functionality similar to a table, but separates the concept (categories
of data) from its physical implementation (tables)
</LI>
<LI>All of this is predicated on the ability of the database engine
to examine the data in the document and extract fields from the
formatting, its metadata
</LI>
<LI>This is easy in the case of, for example, an
XML document or HTML page, where markup tags clearly identify various
bits of data
</LI>
<LI>Document-oriented databases may include functionally
to automatically extract this sort of information from a variety of
document types, even those that were not originally designed for easy
access in this manner
</LI>
<LI>In other cases the programmer has to provide this
information using their own code
</LI>
<LI>In contrast, a relational database
relies on the programmer to handle all of these tasks, breaking down
the document into fields and providing those to the database engine,
which may require separate instructions if the data spans tables
</LI>
<LI>Document-oriented databases normally map more cleanly onto existing
programming concepts, like object-oriented programming (OOP)
</LI>
</UL>

<P>

<H2><A NAME="SECTION06242000000000000000">
Getting Started with MongoDB</A>
</H2>

<P>

<UL>
<LI>Véase
<A NAME="tex2html422"
  HREF="http://docs.mongodb.org/manual/tutorial/getting-started/">Getting Started with MongoDB</A>
</LI>
</UL>
<PRE>
$ mongod
all output going to: /usr/local/var/log/mongodb/mongo.log
</PRE>

<P>
By default, mongo looks for a database server listening on port 27017
on the localhost interface. 

<P>
To connect to a server on a different port
or interface, use the <code>--port</code> and
<code>--host</code> options.

<P>
<PRE>
[~/src/coffee/coffeepress.bak(master)]$ mongo
MongoDB shell version: 2.4.8
connecting to: test
Server has startup warnings: 
Mon Apr 13 21:53:16.204 [initandlisten] 
Mon Apr 13 21:53:16.204 [initandlisten] ** WARNING: soft rlimits too low. Number of files is 256, should be at least 1000
</PRE>

<P>
After starting the mongo shell, your session will use the test database by default. At any time, issue the following operation at the mongo shell to report the name of the current database:
<PRE>
&gt; db
test
</PRE>

<P>
From the mongo shell, display the list of databases, with the following operation:

<P>
<PRE>
&gt; show dbs
coffeepress     0.203125GB
coffeepress-dev 0.203125GB
dict_dev        0.203125GB
example 0.203125GB
local   0.078125GB
mean    0.203125GB
my_perpetuity_database  0.203125GB
mydb    0.203125GB
sinatra-example-dev     0.203125GB
test    0.203125GB
</PRE>

<P>
Switch to a new database named <code>example</code>, 
with the following operation:
<PRE>
&gt; use example
switched to db example
</PRE>
At any point, you can access help for the mongo shell using
<PRE>
&gt; help
        db.help()                    help on db methods
        db.mycoll.help()             help on collection methods
        sh.help()                    sharding helpers
        rs.help()                    replica set helpers
        help admin                   administrative help
        help connect                 connecting to a db help
        help keys                    key shortcuts
        help misc                    misc things to know
        help mr                      mapreduce

        show dbs                     show database names
        show collections             show collections in current database
        show users                   show users in current database
        show profile                 show most recent system.profile entries with time &gt;= 1ms
        show logs                    show the accessible logger names
        show log [name]              prints out the last segment of log in memory, 'global' is default
        use &lt;db_name&gt;                set current database
        db.foo.find()                list objects in collection foo
        db.foo.find( { a : 1 } )     list objects in foo where a == 1
        it                           result of the last line evaluated; use to further iterate
        DBQuery.shellBatchSize = x   set default number of items to display on shell
        exit                         quit the mongo shell
</PRE>

<P>

<DIV CLASS="navigation"><HR>
<A NAME="tex2html2847"
  HREF="node101.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html2841"
  HREF="node96.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html2837"
  HREF="node99.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html2843"
  HREF="node101.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html2845"
  HREF="node104.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html2"
  HREF="http://nereida.deioc.ull.es/perlexamples/index.html"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="logoLPP.png"
 ALT="Apuntes de LPP"></A><A NAME="tex2html3"
  HREF="https://campusvirtual.ull.es/1415/course/view.php?id=5669"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="PL moodle 2014/2015"></A><A NAME="tex2html4"
  HREF="http://campusvirtual.ull.es/1314/course/view.php?id=1104"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="PL moodle 2013/2014"></A><A NAME="tex2html5"
  HREF="javascriptexamples.pdf"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="ps"></A><A NAME="tex2html6"
  HREF="https://plus.google.com/u/0/communities/103299470687051533933"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="perl6.jpg"
 ALT="comunidad g+ PL1415"></A><A NAME="tex2html7"
  HREF="http://www.google.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ggoogle.gif"
 ALT="google"></A><A NAME="tex2html8"
  HREF="http://www.ull.es/view/centros/etsii/Grado_en_Ingenieria_Informatica/es"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="etsii.png"
 ALT="etsii"></A><A NAME="tex2html9"
  HREF="http://www.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ull.gif"
 ALT="ull"></A><A NAME="tex2html10"
  HREF="https://github.com/crguezl"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="crguezl at github"></A>
<BR>
<B> Sig:</B> <A NAME="tex2html2848"
  HREF="node101.html">&#205;ndice General</A>
<B>Sup:</B> <A NAME="tex2html2842"
  HREF="node96.html">CoffeeScript y Express</A>
<B> Ant:</B> <A NAME="tex2html2838"
  HREF="node99.html">Pruebas</A>
</DIV>
<!--End of Navigation Panel-->
<ADDRESS>
<I>Casiano Rodríguez León <BR>
2015-04-14</I>
</ADDRESS>
</BODY>
</HTML>
